<?xml version="1.0"?>
<launch>
	<include file="$(find soma_bringup)/launch/sensor/rotary_wheel_vel.launch" />
	<include file="$(find soma_bringup)/launch/sensor/wheel_odometry.launch" />
	<node name="navsat_transform_node" pkg="robot_localization" type="navsat_transform_node" clear_params="true" output="screen">
		<!-- load yaml file -->
		<rosparam command="load" file="$(find soma_samples)/launch/config/navsat_transform_template.yaml" />
		<!--  -->
		<param name="magnetic_declination_radians" value="0"/>
		<param name="yaw_offset" value="0"/>

		<remap from="/odometry/filtered" to="/odometry/filtered/global" />
		<remap from="/gps/fix" to="/fix/gps" />
		<remap from="imu_data" to="/imu/data" />
	</node>

	<node name="ekf_gyrodometry" pkg="robot_localization" type="ekf_localization_node" clear_params="true" output="screen">
		<!-- load yaml file -->
		<rosparam command="load" file="$(find soma_samples)/launch/config/ekf_gpsimulidar.yaml" />
		<!--  -->
		<remap from="/odometry/filtered" to="/odometry/filtered/global" />
		<remap from="odom0" to="/soma/wheel_odom" />
		<remap from="odom1" to="/odometry/gps" />
		<remap from="imu_data" to="/imu/data" />
	</node>
</launch>
